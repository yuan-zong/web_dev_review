<!--<!doctype html>-->
<!--<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport"-->
<!--          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">-->
<!--    <meta http-equiv="X-UA-Compatible" content="ie=edge">-->
<!--    <title>Chat</title>-->
<!--</head>-->
<!--<body>-->
<!--<form th:object="${chatForm}" action="#" th:action="@{/chat}" method="POST">-->
<!--    <label for="username">Username:</label>-->
<!--    <input id="username" type="text" th:field="*{username}">-->
<!--    <label for="messageText">Message Text:</label>-->
<!--    <input id="messageText" type="text" th:field="*{messageText}">-->
<!--    <label for="messageType">Message Type: </label>-->
<!--    <select id="messageType">-->
<!--        <option selected>Say</option>-->
<!--        <option>Shout</option>-->
<!--        <option>Whisper</option>-->
<!--    </select>-->
<!--    <input type="submit">-->
<!--</form>-->
<!--<div th:each="chatMessage : ${messages}">-->
<!--    <span th:text="${chatMessage.userName}">Username</span>: <span th:text="${chatMessage.messageText}">Hello, world!</span>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>chat</title>
</head>
<body>
<form form modelAttribute="${newMessage}" th:action="@{/chat}" action="#" method="POST">
    <label for="userName">Username:</label>
    <input id="userName" type="text" form modelAttribute="${userName}">
    <label for="messageText">Message Text:</label>
    <input id="messageText" type="text" form modelAttribute="${messageText}">
<!--    <label for="allMessageTypes">Message Type: </label>-->
<!--    <select id="allMessageTypes">-->
<!--        <options th:items="${allMessageTypes}">-->
<!--        </options>-->
<!--    </select>-->
    <label for="allMessageTypes">Message Type: </label>
    <select id="allMessageTypes" form modelAttribute="${allMessageTypes}">
        <option th:each="type: ${allMessageTypes}"
                 th:value="${type}"
                 th:text="${type}">
            Say
        </option>
    </select>
    <input type="submit">
</form>

<h1  th:each="msg : ${messages}" th:text="${msg.userName + ': ' + msg.messageText}">Hello, homepage!</h1>
</body>
</html>